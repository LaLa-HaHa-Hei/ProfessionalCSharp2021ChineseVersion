\chapter*{INTRODUCTION}
\textbf{尽管} .NET 在 2000 年被发布，但它没有变成一个过时的技术。相反，.NET 对开发者的吸引力持续增长，自从它开源并且不仅可以在 Windows 使用还能在 Linux 上使用。.NET 还可以在客户端的浏览器中运行——不需要下载扩展——通过使用 WebAssembly 标准。

随着对 C\# 和 .NET 的新增强功能不断推出，其关注点不仅在于性能提升，还在于易用性。.NET 越来越成为新开发者的选择。

C\# 对长期开发者同样有吸引力。每年，Stack Overflow 询问开发者他们的最爱，最害怕和最想要的变成语言和框架。C\# 已经持续几年在“最爱的语言”排列前 10。ASP.NET Core 现在是“最爱的web框架”首位。.NET Core 在“最爱的其他框架/库/工具”类别中第一。详见 \url{https://insights.stackoverflow.com/survey/2020}

当你使用 C\# 和 ASP.NET Core，你可以创建 web 应用程序和服务（包括微服务），运行在 Windows，Linux 和 Mac 上。你可以用 Windows 运行时去创建本地 Windows 程序，使用 C\#，XAML 和 .NET。你可以创建类库，它可以在 ASP.Net Core，Windows 程序和 .Net MAUI 中共享。

大多数本书中的例子是构建和运行在 Windows 或 Linux 系统上的。例外情况是仅在 Windows 平台上运行的 Windows 应用程序示例。你可以使用 Visual Studio，Visual Studio Code，或 Visual Studio for the Mac 作为开发环境；只有 Windows 程序示例需要 Visual Studio。

\section*{.NET 的世界}
.NET 有长的历史；第一个版本被发布于 2002 年。完全重写的新一代的 .NET（.NET Core 1.0 在 2016 年）是非常年轻的。最近，很多来自旧 .NET 版本的功能已经被带到了 .NET Core 去简化迁移体验。

当创建新的应用程序，没有理由不迁移到新的 .NET 版本。旧的程序是否应该呆在旧版本的 .NET 还是迁移到新版本取决于使用的功能，迁移的难度和迁移后你能获得什么优势。这个问题最好的选择需要通过逐个应用程序的分析来考虑。

新 .NET 提供了容易的方式去创建 Windows 和 web 程序和服务。你可以创建微服务在 Kubernetes 集群中的 Docker 容器中运行；创建 web 程序返回 HTML，JavaScript 和 CSS；创建 web 程序返回 HTML，JavaScript 和 .NET 二进制文件，他使用 WebAssembly 以安全且标准的方式运行在客户端浏览器里。你可以以传统的方式创建 Windows 程序使用 WPF 和 Windows Forms 并利用现代的 XAML 功能和控件，它们支持用 WinUI 实现流畅的设计，以及通过.NET MAUI 开发移动应用程序。

.NET 使用现代模式。依赖注入被构建进核心服务，比如 ASP.NET Core 和 EF Core，这不仅使单元测试更容易，而且允许开发人员容易的增强和更改这些技术的功能。

.NET 能运行在多平台上。除了 Windows 和 macOS，许多 Linux 环境也被支持，比如 Alpine，CentOS，Debian，Febora，openSUSE，Red Hat，SLES 和 Ubuntu。

.NET 是开源的（\url{https://github.com/dotnet}）并且免费获得。你可以找到 C\# 编译器的会议记录（\url{https://github.com/dotnet/csharplang}），C\# 编译器的源代码（\url{https://github.com/dotnet/Roslyn}），.NET 运行时和类库的源代码（\url{https://github.com/dotnet/runtime}），和 ASP.NET Core的源代码（\url{https://github.com/dotnet/aspnetcore}），包括 Razor Pages，Blazor 和 SignalR。

这里是一些对于新 .NEt 功能特点的总结：
\begin{itemize}
    \item .NET 是开源的。
    \item .NET 使用现代模式。
    \item .NET 支持在多平台上开发
    \item ASP.NET Core 可以允许在 Windows 和 Linux 上。
\end{itemize}

\section*{C\# 的世界}
当 C\# 在 2002 年被发布，他是一种为了 .NET Framework 开发的语言。C\# 的设计思想来自 C++，Java 和 Pascal。Anders Hejlsberg 从 Borland 来到微软并带来了Delphi语言开发的经验。在 Microsoft，Hejlsberg 工作于 Microsoft 版的 Java，叫做 J++，在创造 C\# 前。

\textbf{注意} 今天，Anders Hejlsberg 已经转移工作到 TypeScript（ 虽然他依然影响 C\#），并且 Mads Torgersen 是 C\# 的项目领头人。C\# 的改进在 \url{https://github.com/dotnet/csharplang} 上公开讨论，而且你可以阅读 C\# 语言的建议和会议记录。你也可以提交自己的 C\# 建议。

C\# 最初不仅是一门面向对象的通用编程语言，更是一种基于组件的编程语言，支持属性、事件、特性（注解）和构建程序集（包含元数据的二进制文件）。

随着时间的推移，C\# 被增强，通过加入泛型、语言集成查询（LINQ）、lambda 表达式、动态特性以及更简便的异步编程。C\# 不是一个简单的编程语言，因为它提供了很多特功能性，但它也在持续发展，不断加入实用的新功能。由此，C\# 不仅仅是一门面向对象或基于组件的语言；他还包含了函数式编程的理念——这些对于开发各类应用的通用语言来说都具有实用价值。

如今，每年都会发布一个新版本的 C\#，C\# 8 加入了可空引用类型，C\# 9加入了记录类型（records）等等，C\# 10 和 .NET 6 在 2021 年发布，C\# 11 和 .NET 7 在 2022 年发布。因为如今变更频繁，查看本书的 GitHub 仓库（详见“源代码”一节）以获取持续更新。

\section*{C\# 的新东西}
每年，一个新版本的 C\# 被发布，伴随着许多新功能特性可以获得。最新的版本包括很多功能特性：可空引用类型，去减少 NullableReferenceException 异常，作为替换，让编译器提供更多帮助；提高生成效率的功能，如索引（indices）和范围（ranges）；switch 表达式，它可以让 switch 语句显得过时；using 声明等简化语法；模式匹配的提升。顶级语句允许使小型应用程序减少源代码的行数，记录类型（record）——一种类，可让编译器自动生成用于相等性比较、解构和 with 表达式的模板代码。代码生成器允许自动创建代码当编译器允许。所有这些新特性都在本书中涵盖。

\section*{ASP.NET CORE 的新东西}
ASP.NET Core 现在包含新技术用于创建 web 应用：Blazor Server 和 Blazor WebAssembly。使用 Blazor，你有一个用 C\# 代码编写客户端和服务端的全栈选择。使用 Blazor Server，你创建的包含 HTML 和 C\# 代码的 Razor 组件会在服务器上运行。使用 Blazor WebAssembly，用 C\# 和 HTML 编写的 Razor 组件会在客户端运行——借助 HTML5 标准的 WebAssembly 技术，该技术允许在浏览器中运行二进制代码，且为所有现代 Web 浏览器所支持。

对于创建服务，你现在可以使用 ASP.NET Core 的 gRPC，实现服务间的二进制通信。如果需要传输大量数据，这是服务到服务通信的绝佳选择，以减少带宽需要，同时降低 CPU 和内存占用。

\section*{Windows 的新东西}
对于给 Windows 开发程序，一个新技术结合了通用 Windows 平台和桌面应用的功能：WinUI 3。WinUI 是 Windows 10 应用的原生 UI 平台。使用 WinUI3，你可以用包含编译绑定的现代的 XAML 代码去创建桌面应用。新的控件和 Microsoft 的流畅设计系统是可获得的。这些控件不会像以前的通用 Windows 平台（UWP）那样在 Windows Runtime 上提供，这些控件独立于 Windows 10 版本开发的，允许您在 Windows 10 1809 及以上版本中使用最新控件。正如 WinUI 提供的路线图所示，这些新控件也将可用于 WPF 应用程序。

\section*{你需要用什么编写和运行 C\# 代码}
